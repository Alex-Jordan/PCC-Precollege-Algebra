# WeBWorK problem written by Carl Yao, 2013
# Portland Community College
#
# Write an one-variable linear equation to solve distance word problems.
# A table is available to help organize data.
#
# Last updated: Jordan 8/29/13; Yao, 7/28/13
# ENDDESCRIPTION
 
## DBsubject('Algebra')
## DBchapter('Basic Algebra')
## DBsection('Problem Solving with Equations')
## KEYWORDS('equation','solve','word problem','distance')
## DBCCSS('7.EE.3','8.EE.7','A-CED.1')
## TitleText1('')
## EditionText1('')
## AuthorText1('')
## Section1('')
## Problem1('')
## Author('Carl Yao')
## Institution('PCC')
 
##############################################

DOCUMENT();

loadMacros(
  "PGstandard.pl",
  "MathObjects.pl",
  "contextCurrency.pl",
  "unionTables.pl",
  "PGML.pl",
  "PCCmacros.pl",
  "answerHints.pl",
  "PGcourse.pl",
);

##############################################

Context("Numeric");
Context()->variables->are(t=>'Real');

$r1 = random(5,8,0.1);
do {$r2 = random(5,8,0.1)} until ($r1 != $r2);
$t = random(2,5,1)+random(1,9,1)/10;
$d1 = $r1*$t;
$d2 = $r2*$t;
$d = $d1+$d2;

$sex = list_random('male','female');
$pronoun = 'he' if ($sex eq 'male');
$pronoun = 'she' if ($sex eq 'female');

$name1 = RandomName(sex=>$sex);
do {$name2 = RandomName(sex=>$sex)} until ($name1 ne $name2);

##############################################
TEXT(beginproblem());

BEGIN_PGML

[$name1] runs with a speed of [`[$r1]`] miles per hour. [$name2] runs at [`[$r2]`] miles per hour. They began at the same spot, and started running in opposite directions. After some time, they are [`[$d]`] miles apart. How long have they been running?

You can use a table to organize the quantities (speed, time, and distance) for the two runners. Let's represent the unknown amount of time by [`t`], in hours.

END_PGML

Context()->texStrings;
BEGIN_TEXT
$PAR
\{ 
BeginTable(border=>1, tex_border=>"1pt", spacing=>0, padding=>4, center=>1).

AlignedRow(["","Rate","\(\times\)","Time","\(=\)","Distance"], align=>CENTER, separation=>0).

AlignedRow([$name1, "\($r1\)", "$SPACE", "\(t\)", "$SPACE", ans_rule(15)], separation=>0).

AlignedRow([$name2, "\($r2\)", "$SPACE", "\(t\)", "$SPACE", ans_rule(15)], separation=>0).

EndTable()
\}
$PAR
END_TEXT
Context()->normalStrings;

ANS( Compute("$r1*t") -> cmp);
ANS( Compute("$r2*t") -> cmp);


BEGIN_PGML

    According to the table, the total separation between the two runners at time [`t`] is [_______________] miles.

Now set up and solve an equation for [`t`].

    After [______] hours, [$name1] and [$name2] are [`[$d]`] miles apart.

END_PGML


##############################################
$showPartialCorrectAnswers=1;

ANS(Compute("$r1*t+$r2*t") -> cmp() ->withPostFilter(AnswerHints( 
  Compute($d) => "Give the total separation _according to the table_, not according to the problem introduction"
)));

Context("LimitedNumeric");
Context()->variables->are(t=>'Real');
ANS( Real("$t") -> cmp);

$s1 = $r1+$r2;

BEGIN_SOLUTION
$PAR

The relevant formula is:

\[\text{rate}\cdot\text{time} = \text{distance}\]

If we let \(t\) represent the number of hours that $name1 and $name2 have been running, then after \(t\) hours: $PAR

\(\small\bullet\) $name1 has run \($r1 x\) miles.  $BR
\(\small\bullet\) $name2 has run \($r2 x\) miles.  $BR

$PAR
\{ 
BeginTable(border=>1, tex_border=>"1pt", spacing=>0, padding=>4, center=>1).

AlignedRow(["","Rate","\(\times\)","Time","\(=\)","Distance"], align=>CENTER, separation=>0).

AlignedRow([$name1, "\($r1\)", "$SPACE", "\(x\)", "$SPACE", "\($r1 x\)"], separation=>0).

AlignedRow([$name2, "\($r2\)", "$SPACE", "\(x\)", "$SPACE", "\($r2 x\)"], separation=>0).

EndTable()
\}
$PAR

And the total separation between them is \($r1 x+$r2 x\) miles.

It is given in the introduction that they ran a total of \($d\) miles. Now we can write an equation and solve it:
$PAR

\[
\begin{aligned}
   $r1 x + $r2 x &= $d  \\
   $s1 x &= $d  \\
   \frac{$s1 x}{$s1 } &= \frac{$d}{$s1} \\
   x &= $t
\end{aligned}
\]
$PAR

So $name1 and $name2 have been running for \($t\) hours.

END_SOLUTION

ENDDOCUMENT();
